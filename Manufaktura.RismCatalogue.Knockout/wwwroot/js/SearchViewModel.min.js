var SearchViewModel=function(){var n=this;this.pageSize=30;this.results=ko.observableArray([]);this.player=new PlaybackManager;this.isLoading=ko.observable(!1);this.hasMoreResults=!0;this.scrolled=function(t,i){if(!n.isLoading()){var r=i.target;console.info("Scrolltop: "+r.scrollTop+" Scrollheight: "+r.scrollHeight+" Offset height: "+r.offsetHeight);r.scrollTop>r.scrollHeight-r.offsetHeight-200&&n.getMoreResults()}};this.getMoreResults=function(){n.isLoading(!0);$.ajax({type:"GET",url:"api/Search/Search",data:{skip:n.results().length,take:n.pageSize}}).done(function(t){var i,r;n.isLoading(!1);n.hasMoreResults=t.length==n.pageSize;for(i in t)r=t[i],n.results.push(r)})}};